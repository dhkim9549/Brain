<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_13) on Tue Feb 19 22:50:39 CET 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>Peer (bitcoinj 0.7 API)</title>
<meta name="date" content="2013-02-19">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Peer (bitcoinj 0.7 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Peer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/google/bitcoin/core/PartialMerkleTree.html" title="class in com.google.bitcoin.core"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/google/bitcoin/core/PeerAddress.html" title="class in com.google.bitcoin.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/google/bitcoin/core/Peer.html" target="_top">Frames</a></li>
<li><a href="Peer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.google.bitcoin.core</div>
<h2 title="Class Peer" class="title">Class Peer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.google.bitcoin.core.Peer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Peer</span>
extends <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">A Peer handles the high level communication with a Bitcoin node.

 <p><a href="../../../../com/google/bitcoin/core/Peer.html#getHandler()"><code>getHandler()</code></a> is part of a Netty Pipeline with a Bitcoin serializer downstream of it.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#Peer(com.google.bitcoin.core.NetworkParameters, com.google.bitcoin.core.AbstractBlockChain, java.lang.String, java.lang.String)">Peer</a></strong>(<a href="../../../../com/google/bitcoin/core/NetworkParameters.html" title="class in com.google.bitcoin.core">NetworkParameters</a>&nbsp;params,
    <a href="../../../../com/google/bitcoin/core/AbstractBlockChain.html" title="class in com.google.bitcoin.core">AbstractBlockChain</a>&nbsp;blockChain,
    <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;thisSoftwareName,
    <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;thisSoftwareVersion)</code>
<div class="block">Construct a peer that reads/writes from the given chain.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#Peer(com.google.bitcoin.core.NetworkParameters, com.google.bitcoin.core.AbstractBlockChain, com.google.bitcoin.core.VersionMessage)">Peer</a></strong>(<a href="../../../../com/google/bitcoin/core/NetworkParameters.html" title="class in com.google.bitcoin.core">NetworkParameters</a>&nbsp;params,
    <a href="../../../../com/google/bitcoin/core/AbstractBlockChain.html" title="class in com.google.bitcoin.core">AbstractBlockChain</a>&nbsp;chain,
    <a href="../../../../com/google/bitcoin/core/VersionMessage.html" title="class in com.google.bitcoin.core">VersionMessage</a>&nbsp;ver)</code>
<div class="block">Construct a peer that reads/writes from the given block chain.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#addEventListener(com.google.bitcoin.core.PeerEventListener)">addEventListener</a></strong>(<a href="../../../../com/google/bitcoin/core/PeerEventListener.html" title="interface in com.google.bitcoin.core">PeerEventListener</a>&nbsp;listener)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#addWallet(com.google.bitcoin.core.Wallet)">addWallet</a></strong>(<a href="../../../../com/google/bitcoin/core/Wallet.html" title="class in com.google.bitcoin.core">Wallet</a>&nbsp;wallet)</code>
<div class="block">Links the given wallet to this peer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>com.google.common.util.concurrent.ListenableFuture&lt;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../com/google/bitcoin/core/Transaction.html" title="class in com.google.bitcoin.core">Transaction</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#downloadDependencies(com.google.bitcoin.core.Transaction)">downloadDependencies</a></strong>(<a href="../../../../com/google/bitcoin/core/Transaction.html" title="class in com.google.bitcoin.core">Transaction</a>&nbsp;tx)</code>
<div class="block">Returns a future that wraps a list of all transactions that the given transaction depends on, recursively.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/google/bitcoin/core/PeerAddress.html" title="class in com.google.bitcoin.core">PeerAddress</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#getAddress()">getAddress</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#getBestHeight()">getBestHeight</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../com/google/bitcoin/core/Block.html" title="class in com.google.bitcoin.core">Block</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#getBlock(com.google.bitcoin.core.Sha256Hash)">getBlock</a></strong>(<a href="../../../../com/google/bitcoin/core/Sha256Hash.html" title="class in com.google.bitcoin.core">Sha256Hash</a>&nbsp;blockHash)</code>
<div class="block">Asks the connected peer for the block of the given hash, and returns a future representing the answer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#getDownloadData()">getDownloadData</a></strong>()</code>
<div class="block">Returns true if this peer will try and download things it is sent in "inv" messages.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>com.google.bitcoin.core.Peer.PeerHandler</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#getHandler()">getHandler</a></strong>()</code>
<div class="block">Returns the Netty Pipeline stage handling the high level Bitcoin protocol.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#getLastPingTime()">getLastPingTime</a></strong>()</code>
<div class="block">Returns the elapsed time of the last ping/pong cycle.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#getPeerBlockHeightDifference()">getPeerBlockHeightDifference</a></strong>()</code>
<div class="block">Returns the difference between our best chain height and the peers, which can either be positive if we are
 behind the peer, or negative if the peer is ahead of us.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../com/google/bitcoin/core/Transaction.html" title="class in com.google.bitcoin.core">Transaction</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#getPeerMempoolTransaction(com.google.bitcoin.core.Sha256Hash)">getPeerMempoolTransaction</a></strong>(<a href="../../../../com/google/bitcoin/core/Sha256Hash.html" title="class in com.google.bitcoin.core">Sha256Hash</a>&nbsp;hash)</code>
<div class="block">Asks the connected peer for the given transaction from its memory pool.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/google/bitcoin/core/VersionMessage.html" title="class in com.google.bitcoin.core">VersionMessage</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#getPeerVersionMessage()">getPeerVersionMessage</a></strong>()</code>
<div class="block">Returns version data announced by the remote peer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#getPingTime()">getPingTime</a></strong>()</code>
<div class="block">Returns a moving average of the last N ping/pong cycles.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/google/bitcoin/core/VersionMessage.html" title="class in com.google.bitcoin.core">VersionMessage</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#getVersionMessage()">getVersionMessage</a></strong>()</code>
<div class="block">Returns version data we announce to our remote peers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>com.google.common.util.concurrent.ListenableFuture&lt;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#ping()">ping</a></strong>()</code>
<div class="block">Sends the peer a ping message and returns a future that will be invoked when the pong is received back.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected com.google.common.util.concurrent.ListenableFuture&lt;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#ping(long)">ping</a></strong>(long&nbsp;nonce)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#removeEventListener(com.google.bitcoin.core.PeerEventListener)">removeEventListener</a></strong>(<a href="../../../../com/google/bitcoin/core/PeerEventListener.html" title="interface in com.google.bitcoin.core">PeerEventListener</a>&nbsp;listener)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#removeWallet(com.google.bitcoin.core.Wallet)">removeWallet</a></strong>(<a href="../../../../com/google/bitcoin/core/Wallet.html" title="class in com.google.bitcoin.core">Wallet</a>&nbsp;wallet)</code>
<div class="block">Unlinks the given wallet from peer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>org.jboss.netty.channel.ChannelFuture</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#sendMessage(com.google.bitcoin.core.Message)">sendMessage</a></strong>(<a href="../../../../com/google/bitcoin/core/Message.html" title="class in com.google.bitcoin.core">Message</a>&nbsp;m)</code>
<div class="block">Sends the given message on the peers Channel.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#setDownloadData(boolean)">setDownloadData</a></strong>(boolean&nbsp;downloadData)</code>
<div class="block">If set to false, the peer won't try and fetch blocks and transactions it hears about.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#setDownloadParameters(long, boolean)">setDownloadParameters</a></strong>(long&nbsp;secondsSinceEpoch,
                     boolean&nbsp;useFilteredBlocks)</code>
<div class="block">When downloading the block chain, the bodies will be skipped for blocks created before the given date.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#setMemoryPool(com.google.bitcoin.core.MemoryPool)">setMemoryPool</a></strong>(<a href="../../../../com/google/bitcoin/core/MemoryPool.html" title="class in com.google.bitcoin.core">MemoryPool</a>&nbsp;pool)</code>
<div class="block">Tells the peer to insert received transactions/transaction announcements into the given <a href="../../../../com/google/bitcoin/core/MemoryPool.html" title="class in com.google.bitcoin.core"><code>MemoryPool</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>org.jboss.netty.channel.ChannelFuture</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#setMinProtocolVersion(int)">setMinProtocolVersion</a></strong>(int&nbsp;minProtocolVersion)</code>
<div class="block">The minimum P2P protocol version that is accepted.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#startBlockChainDownload()">startBlockChainDownload</a></strong>()</code>
<div class="block">Starts an asynchronous download of the block chain.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/bitcoin/core/Peer.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Peer(com.google.bitcoin.core.NetworkParameters, com.google.bitcoin.core.AbstractBlockChain, com.google.bitcoin.core.VersionMessage)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Peer</h4>
<pre>public&nbsp;Peer(<a href="../../../../com/google/bitcoin/core/NetworkParameters.html" title="class in com.google.bitcoin.core">NetworkParameters</a>&nbsp;params,
    <a href="../../../../com/google/bitcoin/core/AbstractBlockChain.html" title="class in com.google.bitcoin.core">AbstractBlockChain</a>&nbsp;chain,
    <a href="../../../../com/google/bitcoin/core/VersionMessage.html" title="class in com.google.bitcoin.core">VersionMessage</a>&nbsp;ver)</pre>
<div class="block">Construct a peer that reads/writes from the given block chain.</div>
</li>
</ul>
<a name="Peer(com.google.bitcoin.core.NetworkParameters, com.google.bitcoin.core.AbstractBlockChain, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Peer</h4>
<pre>public&nbsp;Peer(<a href="../../../../com/google/bitcoin/core/NetworkParameters.html" title="class in com.google.bitcoin.core">NetworkParameters</a>&nbsp;params,
    <a href="../../../../com/google/bitcoin/core/AbstractBlockChain.html" title="class in com.google.bitcoin.core">AbstractBlockChain</a>&nbsp;blockChain,
    <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;thisSoftwareName,
    <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;thisSoftwareVersion)</pre>
<div class="block">Construct a peer that reads/writes from the given chain. Automatically creates a VersionMessage for you from the
 given software name/version strings, which should be something like "MySimpleTool", "1.0" and which will tell the
 remote node to relay transaction inv messages before it has received a filter.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addEventListener(com.google.bitcoin.core.PeerEventListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addEventListener</h4>
<pre>public&nbsp;void&nbsp;addEventListener(<a href="../../../../com/google/bitcoin/core/PeerEventListener.html" title="interface in com.google.bitcoin.core">PeerEventListener</a>&nbsp;listener)</pre>
</li>
</ul>
<a name="removeEventListener(com.google.bitcoin.core.PeerEventListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeEventListener</h4>
<pre>public&nbsp;boolean&nbsp;removeEventListener(<a href="../../../../com/google/bitcoin/core/PeerEventListener.html" title="interface in com.google.bitcoin.core">PeerEventListener</a>&nbsp;listener)</pre>
</li>
</ul>
<a name="setMemoryPool(com.google.bitcoin.core.MemoryPool)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMemoryPool</h4>
<pre>public&nbsp;void&nbsp;setMemoryPool(<a href="../../../../com/google/bitcoin/core/MemoryPool.html" title="class in com.google.bitcoin.core">MemoryPool</a>&nbsp;pool)</pre>
<div class="block">Tells the peer to insert received transactions/transaction announcements into the given <a href="../../../../com/google/bitcoin/core/MemoryPool.html" title="class in com.google.bitcoin.core"><code>MemoryPool</code></a>.
 This is normally done for you by the <a href="../../../../com/google/bitcoin/core/PeerGroup.html" title="class in com.google.bitcoin.core"><code>PeerGroup</code></a> so you don't have to think about it. Transactions stored
 in a memory pool will have their confidence levels updated when a peer announces it, to reflect the greater
 likelyhood that the transaction is valid.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pool</code> - A new pool or null to unlink.</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="getHandler()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHandler</h4>
<pre>public&nbsp;com.google.bitcoin.core.Peer.PeerHandler&nbsp;getHandler()</pre>
<div class="block">Returns the Netty Pipeline stage handling the high level Bitcoin protocol.</div>
</li>
</ul>
<a name="downloadDependencies(com.google.bitcoin.core.Transaction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>downloadDependencies</h4>
<pre>public&nbsp;com.google.common.util.concurrent.ListenableFuture&lt;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../com/google/bitcoin/core/Transaction.html" title="class in com.google.bitcoin.core">Transaction</a>&gt;&gt;&nbsp;downloadDependencies(<a href="../../../../com/google/bitcoin/core/Transaction.html" title="class in com.google.bitcoin.core">Transaction</a>&nbsp;tx)</pre>
<div class="block"><p>Returns a future that wraps a list of all transactions that the given transaction depends on, recursively.
 Only transactions in peers memory pools are included; the recursion stops at transactions that are in the
 current best chain. So it doesn't make much sense to provide a tx that was already in the best chain and
 a precondition checks this.</p>

 <p>For example, if tx has 2 inputs that connect to transactions A and B, and transaction B is unconfirmed and
 has one input connecting to transaction C that is unconfirmed, and transaction C connects to transaction D
 that is in the chain, then this method will return either {B, C} or {C, B}. No ordering is guaranteed.</p>

 <p>This method is useful for apps that want to learn about how long an unconfirmed transaction might take
 to confirm, by checking for unexpectedly time locked transactions, unusually deep dependency trees or fee-paying
 transactions that depend on unconfirmed free transactions.</p>

 <p>Note that dependencies downloaded this way will not trigger the onTransaction method of event listeners.</p></div>
</li>
</ul>
<a name="getBlock(com.google.bitcoin.core.Sha256Hash)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlock</h4>
<pre>public&nbsp;com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../com/google/bitcoin/core/Block.html" title="class in com.google.bitcoin.core">Block</a>&gt;&nbsp;getBlock(<a href="../../../../com/google/bitcoin/core/Sha256Hash.html" title="class in com.google.bitcoin.core">Sha256Hash</a>&nbsp;blockHash)
                                                                   throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Asks the connected peer for the block of the given hash, and returns a future representing the answer.
 If you want the block right away and don't mind waiting for it, just call .get() on the result. Your thread
 will block until the peer answers.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getPeerMempoolTransaction(com.google.bitcoin.core.Sha256Hash)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeerMempoolTransaction</h4>
<pre>public&nbsp;com.google.common.util.concurrent.ListenableFuture&lt;<a href="../../../../com/google/bitcoin/core/Transaction.html" title="class in com.google.bitcoin.core">Transaction</a>&gt;&nbsp;getPeerMempoolTransaction(<a href="../../../../com/google/bitcoin/core/Sha256Hash.html" title="class in com.google.bitcoin.core">Sha256Hash</a>&nbsp;hash)
                                                                                          throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Asks the connected peer for the given transaction from its memory pool. Transactions in the chain cannot be
 retrieved this way because peers don't have a transaction ID to transaction-pos-on-disk index, and besides,
 in future many peers will delete old transaction data they don't need.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="setDownloadParameters(long, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDownloadParameters</h4>
<pre>public&nbsp;void&nbsp;setDownloadParameters(long&nbsp;secondsSinceEpoch,
                         boolean&nbsp;useFilteredBlocks)</pre>
<div class="block">When downloading the block chain, the bodies will be skipped for blocks created before the given date. Any
 transactions relevant to the wallet will therefore not be found, but if you know your wallet has no such
 transactions it doesn't matter and can save a lot of bandwidth and processing time. Note that the times of blocks
 isn't known until their headers are available and they are requested in chunks, so some headers may be downloaded
 twice using this scheme, but this optimization can still be a large win for newly created wallets.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>secondsSinceEpoch</code> - Time in seconds since the epoch or 0 to reset to always downloading block bodies.</dd></dl>
</li>
</ul>
<a name="addWallet(com.google.bitcoin.core.Wallet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addWallet</h4>
<pre>public&nbsp;void&nbsp;addWallet(<a href="../../../../com/google/bitcoin/core/Wallet.html" title="class in com.google.bitcoin.core">Wallet</a>&nbsp;wallet)</pre>
<div class="block">Links the given wallet to this peer. If you have multiple peers, you should use a <a href="../../../../com/google/bitcoin/core/PeerGroup.html" title="class in com.google.bitcoin.core"><code>PeerGroup</code></a> to manage
 them and use the <a href="../../../../com/google/bitcoin/core/PeerGroup.html#addWallet(com.google.bitcoin.core.Wallet)"><code>PeerGroup.addWallet(Wallet)</code></a> method instead of registering the wallet with each peer
 independently, otherwise the wallet will receive duplicate notifications.</div>
</li>
</ul>
<a name="removeWallet(com.google.bitcoin.core.Wallet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeWallet</h4>
<pre>public&nbsp;void&nbsp;removeWallet(<a href="../../../../com/google/bitcoin/core/Wallet.html" title="class in com.google.bitcoin.core">Wallet</a>&nbsp;wallet)</pre>
<div class="block">Unlinks the given wallet from peer. See <a href="../../../../com/google/bitcoin/core/Peer.html#addWallet(com.google.bitcoin.core.Wallet)"><code>addWallet(Wallet)</code></a>.</div>
</li>
</ul>
<a name="sendMessage(com.google.bitcoin.core.Message)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendMessage</h4>
<pre>public&nbsp;org.jboss.netty.channel.ChannelFuture&nbsp;sendMessage(<a href="../../../../com/google/bitcoin/core/Message.html" title="class in com.google.bitcoin.core">Message</a>&nbsp;m)
                                                  throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Sends the given message on the peers Channel.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="startBlockChainDownload()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startBlockChainDownload</h4>
<pre>public&nbsp;void&nbsp;startBlockChainDownload()
                             throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Starts an asynchronous download of the block chain. The chain download is deemed to be complete once we've
 downloaded the same number of blocks that the peer advertised having in its version handshake message.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="ping()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ping</h4>
<pre>public&nbsp;com.google.common.util.concurrent.ListenableFuture&lt;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;ping()
                                                              throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                                                     <a href="../../../../com/google/bitcoin/core/ProtocolException.html" title="class in com.google.bitcoin.core">ProtocolException</a></pre>
<div class="block">Sends the peer a ping message and returns a future that will be invoked when the pong is received back.
 The future provides a number which is the number of milliseconds elapsed between the ping and the pong.
 Once the pong is received the value returned by <a href="../../../../com/google/bitcoin/core/Peer.html#getLastPingTime()"><code>getLastPingTime()</code></a> is
 updated.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../com/google/bitcoin/core/ProtocolException.html" title="class in com.google.bitcoin.core">ProtocolException</a></code> - if the peer version is too low to support measurable pings.</dd>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="ping(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ping</h4>
<pre>protected&nbsp;com.google.common.util.concurrent.ListenableFuture&lt;<a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;ping(long&nbsp;nonce)
                                                                 throws <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                                                        <a href="../../../../com/google/bitcoin/core/ProtocolException.html" title="class in com.google.bitcoin.core">ProtocolException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="../../../../com/google/bitcoin/core/ProtocolException.html" title="class in com.google.bitcoin.core">ProtocolException</a></code></dd></dl>
</li>
</ul>
<a name="getLastPingTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastPingTime</h4>
<pre>public&nbsp;long&nbsp;getLastPingTime()</pre>
<div class="block">Returns the elapsed time of the last ping/pong cycle. If <a href="../../../../com/google/bitcoin/core/Peer.html#ping()"><code>ping()</code></a> has never
 been called or we did not hear back the "pong" message yet, returns <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Long.html?is-external=true#MAX_VALUE" title="class or interface in java.lang"><code>Long.MAX_VALUE</code></a>.</div>
</li>
</ul>
<a name="getPingTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPingTime</h4>
<pre>public&nbsp;long&nbsp;getPingTime()</pre>
<div class="block">Returns a moving average of the last N ping/pong cycles. If <a href="../../../../com/google/bitcoin/core/Peer.html#ping()"><code>ping()</code></a> has never
 been called or we did not hear back the "pong" message yet, returns <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Long.html?is-external=true#MAX_VALUE" title="class or interface in java.lang"><code>Long.MAX_VALUE</code></a>. The moving average
 window is 5 buckets.</div>
</li>
</ul>
<a name="getPeerBlockHeightDifference()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeerBlockHeightDifference</h4>
<pre>public&nbsp;int&nbsp;getPeerBlockHeightDifference()</pre>
<div class="block">Returns the difference between our best chain height and the peers, which can either be positive if we are
 behind the peer, or negative if the peer is ahead of us.</div>
</li>
</ul>
<a name="getDownloadData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDownloadData</h4>
<pre>public&nbsp;boolean&nbsp;getDownloadData()</pre>
<div class="block">Returns true if this peer will try and download things it is sent in "inv" messages. Normally you only need
 one peer to be downloading data. Defaults to true.</div>
</li>
</ul>
<a name="setDownloadData(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDownloadData</h4>
<pre>public&nbsp;void&nbsp;setDownloadData(boolean&nbsp;downloadData)</pre>
<div class="block">If set to false, the peer won't try and fetch blocks and transactions it hears about. Normally, only one
 peer should download missing blocks. Defaults to true.</div>
</li>
</ul>
<a name="getAddress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAddress</h4>
<pre>public&nbsp;<a href="../../../../com/google/bitcoin/core/PeerAddress.html" title="class in com.google.bitcoin.core">PeerAddress</a>&nbsp;getAddress()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the IP address and port of peer.</dd></dl>
</li>
</ul>
<a name="getPeerVersionMessage()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeerVersionMessage</h4>
<pre>public&nbsp;<a href="../../../../com/google/bitcoin/core/VersionMessage.html" title="class in com.google.bitcoin.core">VersionMessage</a>&nbsp;getPeerVersionMessage()</pre>
<div class="block">Returns version data announced by the remote peer.</div>
</li>
</ul>
<a name="getVersionMessage()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVersionMessage</h4>
<pre>public&nbsp;<a href="../../../../com/google/bitcoin/core/VersionMessage.html" title="class in com.google.bitcoin.core">VersionMessage</a>&nbsp;getVersionMessage()</pre>
<div class="block">Returns version data we announce to our remote peers.</div>
</li>
</ul>
<a name="getBestHeight()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBestHeight</h4>
<pre>public&nbsp;long&nbsp;getBestHeight()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the height of the best chain as claimed by peer: sum of its ver announcement and blocks announced since.</dd></dl>
</li>
</ul>
<a name="setMinProtocolVersion(int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setMinProtocolVersion</h4>
<pre>public&nbsp;org.jboss.netty.channel.ChannelFuture&nbsp;setMinProtocolVersion(int&nbsp;minProtocolVersion)</pre>
<div class="block">The minimum P2P protocol version that is accepted. If the peer speaks a protocol version lower than this, it
 will be disconnected.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>if not-null then this is the future for the Peer disconnection event.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Peer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/google/bitcoin/core/PartialMerkleTree.html" title="class in com.google.bitcoin.core"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/google/bitcoin/core/PeerAddress.html" title="class in com.google.bitcoin.core"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/google/bitcoin/core/Peer.html" target="_top">Frames</a></li>
<li><a href="Peer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013. All Rights Reserved.</small></p>
</body>
</html>
